Day 12 â€“ Cron Jobs, Log Management, Backup
__________________________________________

âœ… cron á€†á€­á€¯á€á€¬á€˜á€¬á€œá€²?
__________________
Linux system á€™á€¾á€¬ á€¡á€á€»á€­á€”á€ºá€™á€¾á€”á€º tasks (backup, update, scan) á€á€­á€¯á€·á€€á€­á€¯ á€¡á€œá€­á€¯á€¡á€œá€»á€±á€¬á€€á€ºá€œá€¯á€•á€ºá€–á€­á€¯á€·á‹

ğŸ§¾ crontab syntax:

*  *  *  *  *  command
|  |  |  |  |
|  |  |  |  +----- á€¡á€•á€á€ºá€›á€€á€º (0-7) (0=Sunday)
|  |  |  +-------- á€œ (1-12)
|  |  +----------- á€›á€€á€º (1-31)
|  +-------------- á€”á€¬á€›á€® (0-23)
+----------------- á€™á€­á€”á€…á€º (0-59)

ğŸ“Œ Examples:    Command Description
___________________________________
crontab -e	Edit cron job
crontab -l	View current jobs
crontab -r	Remove all jobs

ğŸ“… Useful Examples:
# á… á€á€­á€¯á€„á€ºá€¸á€™á€­á€”á€…á€º á… á€™á€­á€”á€…á€ºá€á€­á€¯á€„á€ºá€¸ backup.sh á€€á€­á€¯ run
*/5 * * * * /home/user/backup.sh

# á€”á€±á€·á€á€­á€¯á€„á€ºá€¸ á€™á€”á€€á€º á‚ á€”á€¬á€›á€®á€™á€¾á€¬ log clear
0 2 * * * /usr/bin/logclear

ğŸ“œ (á‚) logrotate â€“ Log file management
______________________________________
System logs á€á€½á€± á€™á€»á€¬á€¸á€œá€¬á€›á€„á€º space á€•á€¼á€Šá€·á€ºá€á€á€ºá€œá€­á€¯á€· automatic log rotation á€œá€¯á€•á€ºá€–á€­á€¯á€· á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€šá€ºá‹

ğŸ“Œ Example config file:
sudo nano /etc/logrotate.d/nginx

conf
/var/log/nginx/*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 640 www-data adm
}
â¡ á€œá€€á€ºá€›á€¾á€­ log á€€á€­á€¯ rotate á€œá€¯á€•á€ºá€•á€¼á€®á€¸ .gz á€¡á€–á€¼á€…á€ºá€á€­á€™á€ºá€¸á€‘á€¬á€¸á€á€šá€ºá‹

ğŸ’¾ (áƒ) rsync â€“ Efficient file backup tool
_________________________________________
Backup á€¡á€á€½á€€á€º á€¡á€á€¯á€¶á€¸á€™á€»á€¬á€¸á€á€²á€· tool á€á€…á€ºá€á€¯á€–á€¼á€…á€ºá€•á€¼á€®á€¸ á€›á€¾á€­á€•á€¼á€®á€¸á€á€¬á€¸ á€–á€­á€¯á€„á€ºá€á€½á€±á€€á€­á€¯ overwrite á€™á€œá€¯á€•á€ºá€•á€² delta copy á€œá€¯á€•á€ºá€•á€«á€á€šá€ºá‹

ğŸ“Œ Basic Syntax:
_______________
rsync [options] source destination

ğŸ“Œ Common Usage:                 			 Command Description
______________________________________________________________________________

rsync -av /source /backup				Full backup (preserve permissions)
rsync -avz user@192.168.1.10:/data /local/backup	Remote backup via SSH

ğŸ“Œ Options:
___________
-a = archive
-v = verbose
-z = compress

ğŸ§ª á€œá€±á€·á€€á€»á€„á€·á€ºá€›á€±á€¸ Tasks:
___________________
crontab -e á€”á€²á€· á€™á€­á€”á€…á€ºá€á€­á€¯á€„á€ºá€¸ /home/user/test.sh á€€á€­á€¯ run á€…á€™á€ºá€¸
logrotate example file á€–á€á€ºá€€á€¼á€Šá€·á€º â€“ cat /etc/logrotate.conf
rsync á€”á€²á€· /home/user á€€á€­á€¯ /backup/user á€™á€¾á€¬ backup á€œá€¯á€•á€º

ğŸ§¾ á€¡á€”á€¾á€…á€ºá€á€»á€¯á€•á€º
__________
Tool			á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€á€»á€€á€º
cron, crontab		Task scheduling â€“ automation
logrotate		Log cleanup & compression
rsync			Smart backup & sync

================================================================//


